# Task 3: Histogram Equalization - ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö

## ‡πÇ‡∏à‡∏ó‡∏¢‡πå
‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏ô‡∏≤‡∏î **5√ó5** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏û‡∏¥‡∏Å‡πÄ‡∏ã‡∏•‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î **3 ‡∏ö‡∏¥‡∏ï** ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:
```
[5,3,1,0,1,0,2,1,0,5,1,5,0,1,2,4,2,6,2,1,6,2,0,1,5]
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Histogram Equalization

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
- ‡∏Ç‡∏ô‡∏≤‡∏î‡∏†‡∏≤‡∏û: 5√ó5 = **25 pixels**
- Bit depth: **3 bits**
- Gray levels: **0-7** (2¬≥ = 8 ‡∏£‡∏∞‡∏î‡∏±‡∏ö)

### ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (5√ó5):
```
[[5 3 1 0 1]
 [0 2 1 0 5]
 [1 5 0 1 2]
 [4 2 6 2 1]
 [6 2 0 1 5]]
```

---

## STEP 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Histogram (‡∏ô‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà)

| Intensity (k) | Frequency h(k) | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á pixels |
|---------------|----------------|----------------|
| 0 | 5 | [3, 5, 8, 12, 22] |
| 1 | 7 | [2, 4, 7, 10, 13, 19, 23] |
| 2 | 5 | [6, 14, 16, 18, 21] |
| 3 | 1 | [1] |
| 4 | 1 | [15] |
| 5 | 4 | [0, 9, 11, 24] |
| 6 | 2 | [17, 20] |
| 7 | 0 | - |

**Total: 25 pixels** ‚úì

---

## STEP 2: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Probability

P(k) = h(k) / (M√óN) = h(k) / 25

| Intensity (k) | h(k) | P(k) | ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° |
|---------------|------|------|---------|
| 0 | 5 | 5/25 | 0.2000 |
| 1 | 7 | 7/25 | 0.2800 |
| 2 | 5 | 5/25 | 0.2000 |
| 3 | 1 | 1/25 | 0.0400 |
| 4 | 1 | 1/25 | 0.0400 |
| 5 | 4 | 4/25 | 0.1600 |
| 6 | 2 | 2/25 | 0.0800 |
| 7 | 0 | 0/25 | 0.0000 |

---

## STEP 3: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì CDF (Cumulative Distribution Function)

CDF(k) = Œ£ P(i) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö i = 0 ‡∏ñ‡∏∂‡∏á k

| Intensity (k) | P(k) | CDF(k) = Œ£ P(i) | ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° |
|---------------|------|-----------------|---------|
| 0 | 0.20 | 0.20 | 0.2000 |
| 1 | 0.28 | 0.20 + 0.28 | **0.4800** |
| 2 | 0.20 | 0.48 + 0.20 | **0.6800** |
| 3 | 0.04 | 0.68 + 0.04 | **0.7200** |
| 4 | 0.04 | 0.72 + 0.04 | **0.7600** |
| 5 | 0.16 | 0.76 + 0.16 | **0.9200** |
| 6 | 0.08 | 0.92 + 0.08 | **1.0000** |
| 7 | 0.00 | 1.00 + 0.00 | **1.0000** |

---

## STEP 4: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏π‡∏ï‡∏£ Histogram Equalization

**‡∏™‡∏π‡∏ï‡∏£:** `new(k) = round((L-1) √ó CDF(k))`

‡πÇ‡∏î‡∏¢ L = 8 (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô gray levels), ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô **(L-1) = 7**

| Old Intensity | CDF(k) | (L-1) √ó CDF(k) | ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì | **New Intensity** |
|---------------|--------|----------------|-------|-------------------|
| 0 | 0.2000 | 7 √ó 0.2000 | 1.40 | **1** |
| 1 | 0.4800 | 7 √ó 0.4800 | 3.36 | **3** |
| 2 | 0.6800 | 7 √ó 0.6800 | 4.76 | **5** |
| 3 | 0.7200 | 7 √ó 0.7200 | 5.04 | **5** |
| 4 | 0.7600 | 7 √ó 0.7600 | 5.32 | **5** |
| 5 | 0.9200 | 7 √ó 0.9200 | 6.44 | **6** |
| 6 | 1.0000 | 7 √ó 1.0000 | 7.00 | **7** |
| 7 | 1.0000 | 7 √ó 1.0000 | 7.00 | **7** |

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Mapping:
```
0 ‚Üí 1
1 ‚Üí 3
2 ‚Üí 5
3 ‚Üí 5
4 ‚Üí 5
5 ‚Üí 6
6 ‚Üí 7
7 ‚Üí 7
```

---

## STEP 5: ‡∏ô‡∏≥ Mapping ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏û

### ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ pixel:

| Position | Original | ‚Üí | Equalized |
|----------|----------|---|-----------|
| (0,0) | 5 | ‚Üí | **6** |
| (0,1) | 3 | ‚Üí | **5** |
| (0,2) | 1 | ‚Üí | **3** |
| (0,3) | 0 | ‚Üí | **1** |
| (0,4) | 1 | ‚Üí | **3** |
| (1,0) | 0 | ‚Üí | **1** |
| (1,1) | 2 | ‚Üí | **5** |
| (1,2) | 1 | ‚Üí | **3** |
| (1,3) | 0 | ‚Üí | **1** |
| (1,4) | 5 | ‚Üí | **6** |
| (2,0) | 1 | ‚Üí | **3** |
| (2,1) | 5 | ‚Üí | **6** |
| (2,2) | 0 | ‚Üí | **1** |
| (2,3) | 1 | ‚Üí | **3** |
| (2,4) | 2 | ‚Üí | **5** |
| (3,0) | 4 | ‚Üí | **5** |
| (3,1) | 2 | ‚Üí | **5** |
| (3,2) | 6 | ‚Üí | **7** |
| (3,3) | 2 | ‚Üí | **5** |
| (3,4) | 1 | ‚Üí | **3** |
| (4,0) | 6 | ‚Üí | **7** |
| (4,1) | 2 | ‚Üí | **5** |
| (4,2) | 0 | ‚Üí | **1** |
| (4,3) | 1 | ‚Üí | **3** |
| (4,4) | 5 | ‚Üí | **6** |

---

## üéØ ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢

### ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö:
```
[[5 3 1 0 1]
 [0 2 1 0 5]
 [1 5 0 1 2]
 [4 2 6 2 1]
 [6 2 0 1 5]]
```

### ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏á Histogram Equalization:
```
[[6 5 3 1 3]
 [1 5 3 1 6]
 [3 6 1 3 5]
 [5 5 7 5 3]
 [7 5 1 3 6]]
```

### ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏™‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏û‡∏¥‡∏Å‡πÄ‡∏ã‡∏• (‡πÅ‡∏ö‡∏ö array):

**Original:**
```
[5, 3, 1, 0, 1, 0, 2, 1, 0, 5, 1, 5, 0, 1, 2, 4, 2, 6, 2, 1, 6, 2, 0, 1, 5]
```

**Equalized:**
```
[6, 5, 3, 1, 3, 1, 5, 3, 1, 6, 3, 6, 1, 3, 5, 5, 5, 7, 5, 3, 7, 5, 1, 3, 6]
```

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| Metric | Original | Equalized |
|--------|----------|-----------|
| Min | 0 | 1 |
| Max | 6 | 7 |
| Mean | 2.24 | 3.96 |
| Std Dev | 1.99 | 1.93 |

### ‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:
1. ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏á equalization ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤ intensity ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
2. Range ‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (0-6 ‚Üí 1-7)
3. Mean ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (2.24 ‚Üí 3.96) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏†‡∏≤‡∏û‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
4. Histogram ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

---

## ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Script

```bash
python task3_histogram_equalization.py
```

Script ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö histogram, CDF, ‡πÅ‡∏•‡∏∞ transformation function
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏£‡∏≤‡∏ü‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà `output/task3_histogram_equalization.png`

---

**‚úÖ Histogram Equalization ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!**
